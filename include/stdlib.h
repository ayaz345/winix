#ifndef _STDLIB_H_
#define _STDLIB_H_ 1

#include <stddef.h>
#include <sys/debug.h>
#include <sys/syscall.h>

extern const char **_environ;

#define __ALIGN1K(x) 	    (((((x))>>10)<<10)+1023)
#define __get_env_address() (__ALIGN1K((unsigned long)get_sp()))
#define __get_env_ptr()     (*((const char ***) (unsigned long)__get_env_address()))
#define __get_env()         (_environ ? _environ : __get_env_ptr()) 
#define init_environ()      (_environ = __get_env())

#ifndef NULL
#define	NULL		((void *)0)
#endif

#define EXIT_SUCCESS 0
#define EXIT_FAILURE 1
#define RAND_MAX       32767    /* largest value generated by rand() */

typedef struct { int quot, rem; } div_t;
typedef struct { long quot, rem; } ldiv_t;

void* malloc (long size);
void free(void *ptr);
void* realloc(void *p,long size);
void *calloc(long number , long size);
char *getenv(const char *name);
int putenv(char *name);
int setenv(const char *name, const char *value, int overwrite);
void srand(unsigned int seed);
int rand(void);
int atoi(char *str);
unsigned long strtoul(const char * nptr, char ** endptr, int base);



#define exit(code)      __exit(code)

#endif
